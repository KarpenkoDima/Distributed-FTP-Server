# MVP FTP Server

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é **FTP-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ .NET C# —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –±—É–¥—É—â–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ FTPS**. –ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–¥—Ä–∞ FTP-—Å–µ—Ä–≤–µ—Ä–∞ –∏ —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—è –∏—Ö —Å –≥–æ—Ç–æ–≤—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏ –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏, —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–π –∏ —Ñ–∞–π–ª–æ–≤ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è).

## üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

* [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–π –¥–∏–∑–∞–π–Ω](docs/ArchitectureDesign.md)
* [–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](docs/DevelopmentPlan.md)

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

* **FtpServer.Core:** –û—Å–Ω–æ–≤–Ω–æ–µ —è–¥—Ä–æ FTP-—Å–µ—Ä–≤–µ—Ä–∞.
* **FtpServer.Auth:** –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ ASP.NET Core Web API.
* **FtpServer.Commons:** –û–±—â–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –º–æ–¥–µ–ª–µ–π (DTO) –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.
* **–°—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è (–≤ –ø–ª–∞–Ω–∞—Ö):** nginx, Redis, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

FtpServerMVP/
‚îú‚îÄ‚îÄ FtpServer.Core/           # –û—Å–Ω–æ–≤–Ω–æ–π FTP —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ FtpServer.Auth/           # Authentication API  
‚îî‚îÄ‚îÄ FtpServer.Commons		  # Shared models/interfaces

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
	### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
	
	```bash
	   cd FtpServer.Core 
	   dotnet run
	```
	
	```bash
	   cd FtpServer.Auth 
	   dotnet run
	```
	–í FileZilla —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
	- –ü—Ä–æ—Ç–æ–∫–æ–ª: FTP
	- –•–æ—Å—Ç: localhost
	- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: –∏—Å–ø–ª–¥—å–∑–ª–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π FTP
	- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: demo / test
	- –ü–∞—Ä–æ–ª—å: 1
	
## –ù–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç (MVP):

* **–Ø–¥—Ä–æ FTP-—Å–µ—Ä–≤–µ—Ä–∞ (`FtpServer.Core`):**
    * –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞–∑–æ–≤—ã—Ö TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
    * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ FTP (USER, PASS, PWD, CWD, LIST, SIZE).
    * –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –∫–ª–∏–µ–Ω—Ç–∞.
    * –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å.
    * **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–∏—Å–æ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `AuthHttpClient` –¥–ª—è –≤—ã–∑–æ–≤–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ `/authenticate` `FtpServer.Auth` –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
* **–ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤:**
    * –ö–æ–º–∞–Ω–¥–∞ `STOR` (–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤).
    * –ö–æ–º–∞–Ω–¥–∞ `RETR` (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤).
    * –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (Data Connection).
* **–°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`FtpServer.Auth`):**
    * ASP.NET Core Web API.
    * –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`/authenticate`).
    * **–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç BCrypt –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π.
        * *(–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ FTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞–ø—Ä—è–º—É—é –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª CRUD –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ API —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –æ—Ç–¥–µ–ª—å–Ω–æ).*
    * –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Swagger UI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API.

## üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–π –ü–ª–∞–Ω –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Roadmap)

### –§–∞–∑–∞ 1: –£–ª—É—á—à–µ–Ω–∏–µ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

* **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è FTPS (TLS/SSL):**
    * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `SslStream` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
    * –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏.
* **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
    * –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç `Console.WriteLine` –∫ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Serilog, NLog) —Å –≤—ã–≤–æ–¥–æ–º –≤ —Ñ–∞–π–ª—ã –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.
* **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
    * –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏ –≥—Ä–∞—Ü–∏–æ–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É.

### –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏ FTP

* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏:**
    * –ö–æ–º–∞–Ω–¥—ã `DELE` (—É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤), `MKD` (—Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏), `RMD` (—É–¥–∞–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏).
    * –ö–æ–º–∞–Ω–¥–∞ `RNFR`/`RNTO` (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ).
* **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (PASV):**
    * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, –≤–∞–∂–Ω–æ–≥–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ NAT/Firewall.

### –§–∞–∑–∞ 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –§—É–Ω–∫—Ü–∏–∏ –∏ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

* **–†–æ–ª–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
    * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Ä–æ–ª–µ–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
    * –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–µ –∏–∑ `FtpServer.Auth`.
* **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
    * –í—ã–Ω–µ—Å–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ø–æ—Ä—Ç—ã, –∫–æ—Ä–Ω–µ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) –≤ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
* **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
    * –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Redis –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–π.
    * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.
    * –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –∫–∞–∫ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏.
* **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
    * –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö —é–Ω–∏—Ç- –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
